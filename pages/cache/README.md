### HTTP缓存：强缓存和协商缓存
#### 1.缓存优缺点
##### 优点：
- 缓存减少了冗余的数据传输，节省你的网络费用
- 缓存缓解了网络瓶颈的问题。不需要跟多的宽带就能跟快的加载页面
- 缓存降低了对服务器的要求。服务器可以更快的响应，避免过载的出现
- 缓存降低了距离时延，因为从较远的地方加载页面会更慢

##### 缺点
- 缓存中的数据可能与服务器的数据不一致
- 消耗内存


#### 2. 缓存验证概述
- 浏览器进行资源请求时，会判断response headers是否命中强缓存，如果命中，直接从本地读取缓存，不会
向服务器发送请求
- 当强缓存没有命中时，会发送请求到服务器，判断协商缓存是否命中，如果命中，服务器将请求返回，不会返回资源，告诉浏览器从本地读取缓存，如果不命中，服务器返回资源
- 区别 强缓存命中，不会请求服务器，直接请求缓存；协商缓存会请求服务器，不会返回内容，然后请求缓存

#### 3.强缓存
##### Expires
- 该值是一个GMT时间格式的字符串，浏览器进行第一次请求时，服务器会返回头部加上Expires,下次请求，如果在这个时间内则命中缓存

##### cache-control
- 该值是利用max-ag判断缓存的生命周期，是以秒为单位，如果在生命周期内，则命中缓存


#### 协商缓存
##### last-modified,if-Modified-since
- last-modified: response返回，表示资源最后修改时间
- if-modified-since: 通过比较两次的时间判断，资源在请求期间是否有修改，假如没有修改，则命中协商缓存，浏览器从缓存中读取资源，如果命中，资源有过修改，返回新的last-midified时间和服务器资源

##### Etag,if-None-match
- etag：表示资源内容的唯一标识，response返回
- if-none-match： 服务器比较请求头中的if-none-match和当前资源中的etag是否有一致，来判断是否修改过，如果没有修改，则命中缓存，浏览器从缓存中读取资源，如果修改过，服务器会返回新的etag,并返回资源


##### Etag解决了last-modified使用时可能出现的时间戳变了但内容没变及如果在一秒钟以内资源变化但last-modified没有变化的问题，感觉Etag更加稳妥
##### 根据浏览器缓存策略，expire和cache-control用回车、后退F5刷新会跳过本地缓存，每次都会从服务器获取数据

#### [CDN缓存](https://juejin.im/post/5be3f486e51d45053d5c38ca)